[
  {
    "id": 45,
    "author": "user",
    "payload": {
      "type": "text",
      "text": "book mark added background should be the theme blue, also the âœ…move to the end",
      "files": [],
      "fileUploads": [],
      "cssBlocks": [],
      "cMarkNode": {}
    },
    "createdTimestamp": {
      "seconds": 1770341671,
      "nanos": 408000000
    }
  },
  {
    "id": 46,
    "author": "model",
    "payload": {
      "type": "thinking",
      "text": "**Revising Toast Appearance**\n\nI'm currently focused on the Toast component. I aim to alter the background color for the \"bookmark added\" notification to theme blue, specifically `#2563EB`. Additionally, I'm repositioning the checkmark icon (`âœ…`) to the trailing end of the message text to improve the visual design.\n\n\n**Updating Toast Configuration**\n\nI've just finished implementing the changes to the `Toast` component in `App.tsx`. I have successfully modified the background color to the theme blue, `#2563EB`, as requested. I've also rearranged the checkmark icon (`âœ…`) so that it now appears at the trailing end of the message text. The component is now configured as requested.\n\n\n**Refining Toast Feedback**\n\nI'm now revising the design of the success toast to use a green checkmark icon (`âœ…`) instead of the custom SVG. I've switched the background color to the previously used dark blue, and have kept the checkmark at the start.\n\n\n**Confirming Toast Refinement**\n\nNow I'm making a small improvement to the `Toast` success design. I've switched the checkmark back to the custom SVG icon, but now, I am using an emerald-500 background. I'm also confirming the theme blue hex code is correct, and I've kept the icon at the trailing end.\n\n\n**Verifying Toast Contrast**\n\nI'm now considering the background contrast of the toast, and am torn between slightly lighter emerald, or the user's specific request for theme blue. I've double checked the `App.tsx` file for accuracy. The `Toast` component is at the beginning of the file.\n\n\n**Organizing HEOR Resources**\n\nI'm now focusing on the user interface elements and strings for a new HEOR repository. I'm translating the raw resource keys into meaningful labels and prompts for the user interface, covering features like search, contribution, and administrative controls. I'm working on the empty state messages and confirmation prompts. I am updating labels, such as the `contributeDesc`, to be more specific.\n\n\n**Defining HEOR Strings**\n\nI'm now integrating the updated UI strings into the HEOR repository's user interface. This includes key translations like \"Description,\" \"Your Name,\" and various action labels. I have added prompts such as \"Add to List,\" \"Export CSV,\" and updated success messages to provide feedback on actions like exporting the CSV. Furthermore, I have refined the empty state messages and descriptions within the \"Bookmarks\" section, and ensured that the \"saved\" property is present.\n\n\n**Refining Toast Details**\n\nI'm now implementing the latest design details for the `Toast` component. I'm focusing on the component's styling based on a recent design update, but I am still using theme blue as the background color, and the SVG checkmark icon is now trailing the message. I'm adjusting the `useEffect` hook to automatically hide the toast after 3 seconds. The `Toast` is still located at the bottom center of the screen.\n\n\n**Implementing Login UI**\n\nI'm now integrating the login form into the application, focusing on state management for `showLoginModal`, password input, and error handling. I've added a login button and am preparing to implement authentication logic. My immediate focus is on a functional login and the required states.\n\n\n\n**Caching Data Load**\n\nI'm now focusing on caching data loading within the HEOR repository. I'm leveraging `useState` hooks to manage data persistence across sessions. Currently, I'm setting up state variables for collections, resources, taglines, and bookmarked item IDs. The goal is to load data from `localStorage` on component mount, falling back to initial data if no cached data is found, handling errors gracefully, and considering a cache reset option.\n\n\n**Refining Bookmark Logic**\n\nI'm now revising the bookmark logic within the HEOR repository. I'm focusing on the `toggleBookmark` function to ensure accurate updates to both the `bookmarkedIds` state and the local storage. I'm confirming that the toast message appears when adding a bookmark. I'm also ensuring the `localStorage` updates persist.\n\n\n**Implementing Admin Access**\n\nI'm now integrating the admin access feature, triggered by a search query. I'm focusing on the login modal's functionality, including authentication against a hardcoded password. Upon successful login, I'm setting admin state and switching the theme. I'm also preparing to implement a logout function.\n\n\n**Developing Contribution States**\n\nI'm now focused on the states for handling user contributions within the HEOR repository. I'm setting up state variables for `ContributeModal`, managing the visibility of the modal, and handling the list of suggestions. I am using `contributionData` to handle form inputs and `contributionSuccess` to manage the success message. I'm building validation for title and URL fields, with alerts.\n\n\n**Finalizing Contribution Workflow**\n\nI'm now putting the finishing touches on the contribution workflow for the HEOR repository. I've implemented the `handleSubmitContribution` function to handle form data and added `handleRemoveFromList` to remove suggestions. I'm also addressing CSV export and validation. I've ensured a message is triggered when no suggestions are in the list.\n\n\n**Refining CSV Export**\n\nI'm now refining the CSV export functionality for user contributions in the HEOR repository. I've finished the `handleSubmitContribution` function to handle form data and added `handleRemoveFromList` to remove suggestions. I'm focusing on user feedback, like handling a no-suggestions condition.\n\n\n\n**Analyzing Theme Context**\n\nI'm now diving into theme and filtering logic within the HEOR repository's main component. I'm focusing on how `activeTheme`, `activeSubCategory`, and `searchQuery` are interacting with `resources` and `bookmarkedIds`. I'm working to get the various states for the different screens of the app correct. I also have to account for the sidebar, and I'm ensuring everything works together as expected.\n\n\n**Integrating Sidebar Actions**\n\nI'm now integrating the sidebar actions within the HEOR repository. I'm focusing on handling the states of `isSidebarOpen` and `isAdmin`, linking the `onAdminClick` function to the `isAdmin` state. I'm adding a logout button using the `handleLogout` function. I'm ensuring all the logic aligns within the main component.\n\n\n**Integrating Search Refinement**\n\nI'm now integrating refinements to search queries within the HEOR repository, focusing on the main component. I'm adapting how `searchQuery` impacts the `resources` display. I have started adjusting the logic to handle no results, ensuring this state works correctly with the theme, subcategory, and bookmarked item displays. I have kept the sidebar integrated.\n\n\n**Refining Dashboard Titles**\n\nI'm now revising the dashboard titles for the HEOR repository. I'm focusing on the logic to dynamically display \"Admin Panel,\" \"Saved,\" \"Full Repository,\" or the collection name based on various states like `isAdminDeckActive`, `isBookmarksActive`, and `activeTheme`. I am also displaying the number of items and ensuring \"Deck\" or \"Vault\" is correctly appended to the collection name, depending on the admin state.\n\n\n\n**Integrating Search UI**\n\nI'm now integrating the search UI, focusing on the placeholder text and styling the input field. I am making it match the app's overall design. I am also working on adding the logic to handle empty search.\n\nI'm making progress, refining the integration of the search input field and ensuring it looks correct within the repository's design, including empty state handling.\n\n\n**Adjusting Button Actions**\n\nI'm now implementing the functionality for the admin and contribution buttons within the HEOR repository's sidebar. I'm dynamically adjusting the button's action based on admin state, changing from \"Exit Admin\" to \"Contribute\" when necessary. The `isAdminDeckActive` state dictates the display of these labels, and I have addressed the action, text and appearance as a result.\n\n\n**Refining Category Selection**\n\nI'm now revising the design and functionality of the category selection interface within the HEOR repository. I'm focusing on the component that displays the subcategories. I'm building out the list and working on implementing dynamic styling based on selection state.\n\n\n**Optimizing Home Animations**\n\nI'm now optimizing the home page animations. I've adjusted animation delays and opacity for better visual harmony. I've focused on subtle, effective movements that improve the visual appeal.\n\n\n**Optimizing Landing Page**\n\nI'm now implementing the UI elements for the landing page. I'm focused on the page's styling and structure. I'm working to arrange the elements for a clean layout. I'm also preparing for the animation integrations on various elements.\n\n\n**Defining Landing Page**\n\nI'm now focusing on integrating the content and defining the structure for the HEOR repository's landing page. I am working on building out the text, and I am adjusting the overall layout for a streamlined feel. I'm prioritizing the layout's aesthetic.\n\n\n**Refining Card Components**\n\nI'm now revising the design and layout of the cards in the repository. I'm focusing on the component's styling to improve the visual consistency, and am still working on integrating it with the different views of the app.\n\n\n**Displaying Empty States**\n\nI'm now implementing the UI for empty states within the resource display. I'm dynamically showing an empty state message with an icon when `filteredResources` is empty. The icon adapts based on whether bookmarks are active, and I'm using appropriate translations and centering the content for visual clarity.\n\n\n**Implementing Empty State Display**\n\nI'm now integrating the empty state display within the HEOR repository's main component. I am dynamically showing an empty state message and an icon when the `filteredResources` are empty, and it all works with the new translations. I've centered the content for clarity. I've also focused on dynamically adjusting the icon.\n\n\n**Refining Login Modal**\n\nI'm now revising the design and functionality of the login modal within the HEOR repository. I'm focusing on improved error display, using a red border and a bold, red error message. I'm implementing cancel and confirm buttons for better user interaction. I've focused on styling and transitions for the modal.\n\n\n**Finalizing Contribution Success**\n\nI'm now putting the finishing touches on the contribution success feedback within the HEOR repository. I have incorporated a checkmark with emerald background, text, and description when the form submission is complete, ensuring that it is centered. I've used translations to provide a clean message.\n\n\n**Improving Contribution Input**\n\nI'm now focusing on the user interface for inputting contributions. I am styling the contribution modal to provide a clear interface. I'm focusing on the input field and validation.\n\nI'm working on the contribution form and improving the layout of the `input` field.\n\n\n**Styling Contribution Input**\n\nI'm now styling the input fields of the contribution form to enhance its visual appeal and usability. I'm focusing on the component to ensure it aligns with the overall design, with an improved `input` field.\n\nI'm making sure the `input` field is styled according to the design.\n\n\n**Styling Contribution Input**\n\nI'm now styling the form input for contributions. I am focusing on the look and feel of the select and textarea elements. I'm making sure these elements fit within the overall design.\n\n\n**Adjusting Contribution Inputs**\n\nI'm now implementing the UI elements for contribution input fields. I'm building out and styling the name input field, along with the checkbox for credit requests. I'm focusing on their layout to improve their accessibility.\n\nI'm now making sure that the text fields and checkbox components are well styled.\n\n\n**Developing List Suggestions**\n\nI'm now styling the list of suggestions, including visual updates for the number of suggestions and an empty state indicator. I've built the list, with styling and an indicator for the number of suggestions. I am now working on the display for when the list is empty.\n\n\n\n",
      "cMarkNode": {}
    },
    "createdTimestamp": {
      "seconds": 1770341671,
      "nanos": 408000000
    },
    "doneTimestamp": {
      "seconds": 1770341727,
      "nanos": 363000000
    }
  },
  {
    "id": 47,
    "author": "model",
    "payload": {
      "type": "generationTable",
      "entries": [
        {
          "path": "App.tsx",
          "generationType": 1,
          "isDone": true,
          "description": "Update Toast component: set background to theme blue (#2563EB), move the checkmark icon to the end of the text, and adjust border for better contrast.",
          "diffs": [
            {
              "target": "",
              "replacement": "\nimport React, { useState, useMemo, useEffect, useCallback } from 'react';\nimport Sidebar from './components/Sidebar';\nimport ResourceCard from './components/ResourceCard';\nimport AdminDashboard from './components/AdminDashboard';\nimport { COLLECTIONS as initialCollections, RESOURCES as initialResources, TAGLINE_WORDS as initialTaglines, REPO_VERSION } from './data';\nimport { Resource, Collection, Theme } from './types';\n\nconst BRAND_BLUE = '#2563EB';\nconst DARK_NAVY = '#121A26';\n\nconst t = {\n  welcome: \"Welcome to\",\n  intro: \"The repository of open-source tools & resources for Health Economics and Outcomes Research\",\n  select: \"Select a collection to begin ðŸ‘‡\",\n  contributeBtn: \"Contribute to HEORepo.\",\n  archive: \"Archive\",\n  vault: \"Vault\",\n  deck: \"Deck\",\n  search: \"Search...\",\n  items: \"ITEMS\",\n  adminPanel: \"ADMIN CONTROL PANEL\",\n  fullRepo: \"FULL REPOSITORY\",\n  exitAdmin: \"Exit Admin\",\n  management: \"Management\",\n  emptyTitle: \"Empty Archive\",\n  emptyDesc: \"Adjust your filters or try a different search term.\",\n  version: \"VERSION\",\n  adminMode: \"ADMIN MODE\",\n  adminPortal: \"Admin Portal\",\n  adminPortalDesc: \"Enter system password to access management tools.\",\n  password: \"Password\",\n  incorrectPassword: \"Incorrect Password\",\n  cancel: \"Cancel\",\n  confirm: \"Confirm\",\n  contributeTitle: \"Contribute\",\n  contributeDesc: \"Suggest high-quality HEOR resources. Please input your suggestions below, then click 'Export CSV' and email the resulting file to contact@heorepo.com for review.\",\n  title: \"Title\",\n  url: \"URL\",\n  suggestedCol: \"Suggested Collection\",\n  description: \"Description\",\n  yourName: \"Your Name\",\n  creditName: \"Credit my name\",\n  addToList: \"Add to List\",\n  exportCsv: \"Export CSV\",\n  subReceived: \"Export Successful\",\n  subReceivedDesc: \"CSV exported. Please email it to contact@heorepo.com\",\n  allResources: \"All Resources\",\n  bookmarksTitle: \"Your Bookmarks\",\n  bookmarksEmpty: \"No bookmarks yet.\",\n  bookmarksEmptyDesc: \"Save resources for quick access by clicking the bookmark icon on any card.\",\n  bookmarkAdded: \"Book mark added\",\n  // Fix: Added missing 'saved' property used in the header component\n  saved: \"SAVED\"\n};\n\nconst sanitizeData = (str: string): string => {\n  if (typeof str !== 'string') return '';\n  return str.replace(/<[^>]*>?/gm, '').trim();\n};\n\nconst isValidLink = (url: string): boolean => {\n  try {\n    const parsed = new URL(url.startsWith('http') ? url : `https://${url}`);\n    return parsed.protocol === 'http:' || parsed.protocol === 'https:';\n  } catch {\n    return false;\n  }\n};\n\nconst escapeCSV = (val: string | undefined): string => {\n  if (!val) return '\"\"';\n  const str = val.toString().replace(/\"/g, '\"\"');\n  return `\"${str}\"`;\n};\n\nconst Toast: React.FC<{ message: string; show: boolean; onHide: () => void }> = ({ message, show, onHide }) => {\n  useEffect(() => {\n    if (show) {\n      const timer = setTimeout(onHide, 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [show, onHide]);\n\n  return (\n    <div className={`fixed bottom-8 left-1/2 -translate-x-1/2 z-[100] transition-all duration-500 ${show ? 'translate-y-0 opacity-100' : 'translate-y-4 opacity-0 pointer-events-none'}`}>\n      <div className=\"bg-[#2563EB] text-white px-6 py-3 rounded-full shadow-2xl flex items-center gap-3 border border-white/20\">\n        <span className=\"text-[13px] font-black uppercase tracking-widest\">{message}</span>\n        <div className=\"w-5 h-5 rounded-full bg-emerald-500 flex items-center justify-center shrink-0\">\n          <svg className=\"w-3 h-3 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={4}><path d=\"M5 13l4 4L19 7\" /></svg>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst App: React.FC = () => {\n  const [activeTheme, setActiveTheme] = useState<string>('landing');\n  const [activeSubCategory, setActiveSubCategory] = useState<string>('all');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  const [isDotDropped, setIsDotDropped] = useState(false);\n  \n  const [isAdmin, setIsAdmin] = useState(false);\n  const [showLoginModal, setShowLoginModal] = useState(false);\n  const [password, setPassword] = useState('');\n  const [loginError, setLoginError] = useState(false);\n\n  const [toast, setToast] = useState<{ show: boolean; message: string }>({ show: false, message: '' });\n\n  const shouldResetCache = useMemo(() => {\n    const savedVersionStr = localStorage.getItem('heo_repo_version');\n    const savedVersion = savedVersionStr ? parseInt(savedVersionStr) : 0;\n    const currentVersion = REPO_VERSION || 0;\n    return currentVersion > savedVersion;\n  }, []);\n\n  const [collections, setCollections] = useState<Collection[]>(() => {\n    try {\n      if (shouldResetCache) return initialCollections;\n      const saved = localStorage.getItem('heo_collections');\n      return saved ? JSON.parse(saved) : initialCollections;\n    } catch { return initialCollections; }\n  });\n  \n  const [resources, setResources] = useState<Resource[]>(() => {\n    try {\n      if (shouldResetCache) return initialResources;\n      const saved = localStorage.getItem('heo_resources');\n      return saved ? JSON.parse(saved) : initialResources;\n    } catch { return initialResources; }\n  });\n  \n  const [taglineWords, setTaglineWords] = useState<string[]>(() => {\n    try {\n      if (shouldResetCache) return initialTaglines;\n      const saved = localStorage.getItem('heo_tagline');\n      return saved ? JSON.parse(saved) : initialTaglines;\n    } catch { return initialTaglines; }\n  });\n\n  const [bookmarkedIds, setBookmarkedIds] = useState<string[]>(() => {\n    try {\n      const saved = localStorage.getItem('heo_bookmarks');\n      return saved ? JSON.parse(saved) : [];\n    } catch { return []; }\n  });\n\n  const toggleBookmark = useCallback((id: string) => {\n    setBookmarkedIds(prev => {\n      const isAdding = !prev.includes(id);\n      const newList = isAdding ? [...prev, id] : prev.filter(bid => bid !== id);\n      \n      if (isAdding) {\n        setToast({ show: true, message: t.bookmarkAdded });\n      }\n      \n      localStorage.setItem('heo_bookmarks', JSON.stringify(newList));\n      return newList;\n    });\n  }, []);\n\n  const handleThemeSelect = useCallback((id: string) => {\n    const collection = collections.find(c => c.id === id);\n    let initialSub = 'all';\n    \n    if (id !== 'landing' && id !== Theme.BOOKMARKS && collection && collection.subCategories && collection.subCategories.length > 0) {\n      initialSub = collection.subCategories[0];\n    }\n\n    setActiveTheme(id);\n    setActiveSubCategory(initialSub);\n    setSearchQuery('');\n    \n    if (id !== 'landing') {\n      setIsDotDropped(false);\n    }\n  }, [collections]);\n\n  const currentCollection = useMemo(() => collections.find(c => c.id === activeTheme), [activeTheme, collections]);\n\n  useEffect(() => {\n    if (searchQuery.toLowerCase() === 'admin') {\n      setSearchQuery('');\n      setShowLoginModal(true);\n    }\n  }, [searchQuery]);\n\n  useEffect(() => {\n    try {\n      localStorage.setItem('heo_collections', JSON.stringify(collections));\n      localStorage.setItem('heo_resources', JSON.stringify(resources));\n      localStorage.setItem('heo_tagline', JSON.stringify(taglineWords));\n      localStorage.setItem('heo_repo_version', (REPO_VERSION || 0).toString());\n    } catch (e) {}\n  }, [collections, resources, taglineWords]);\n\n  const handleLogin = () => {\n    if (password.trim() === '123456') {\n      setIsAdmin(true);\n      setShowLoginModal(false);\n      setPassword('');\n      setLoginError(false);\n      handleThemeSelect('admin-deck');\n    } else {\n      setLoginError(true);\n    }\n  };\n\n  const handleLogout = () => {\n    setIsAdmin(false);\n    if (activeTheme === 'admin-deck') {\n      handleThemeSelect('landing');\n    }\n  };\n\n  const [showContributeModal, setShowContributeModal] = useState(false);\n  const [suggestionList, setSuggestionList] = useState<any[]>([]);\n  const [contributionData, setContributionData] = useState({ \n    title: '', \n    url: '', \n    description: '', \n    userName: '', \n    category: Theme.GENERAL, \n    wantsCredit: true \n  });\n  const [contributionSuccess, setContributionSuccess] = useState(false);\n\n  const handleAddSuggestionToList = () => {\n    if (!contributionData.title || !contributionData.url) {\n      alert(\"Please provide at least a title and a valid URL.\");\n      return;\n    }\n    if (!isValidLink(contributionData.url)) {\n      alert(\"Please provide a secure and valid URL.\");\n      return;\n    }\n\n    setSuggestionList(prev => [...prev, {\n      title: sanitizeData(contributionData.title),\n      url: contributionData.url,\n      description: sanitizeData(contributionData.description),\n      userName: sanitizeData(contributionData.userName),\n      category: contributionData.category,\n      wantsCredit: contributionData.wantsCredit\n    }]);\n\n    setContributionData({ \n      title: '', \n      url: '', \n      description: '', \n      userName: contributionData.userName, \n      category: Theme.GENERAL, \n      wantsCredit: contributionData.wantsCredit \n    });\n  };\n\n  const handleRemoveFromList = (idx: number) => {\n    setSuggestionList(prev => prev.filter((_, i) => i !== idx));\n  };\n\n  const handleExportCSV = () => {\n    if (suggestionList.length === 0) {\n      alert(\"Add at least one suggestion to the list before exporting.\");\n      return;\n    }\n\n    const headers = ['Title', 'Description', 'URL', 'Contributor', 'Category', 'SubCategory'];\n    const csvRows = suggestionList.map(item => [\n      escapeCSV(item.title),\n      escapeCSV(item.description),\n      escapeCSV(item.url),\n      escapeCSV(item.wantsCredit ? item.userName : 'Anonymous'),\n      escapeCSV(item.category),\n      escapeCSV('all')\n    ].join(\",\"));\n\n    const csvContent = [headers.join(\",\"), ...csvRows].join(\"\\n\");\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement(\"a\");\n    link.setAttribute(\"href\", url);\n    link.setAttribute(\"download\", `heorepo_suggestions_${new Date().getTime()}.csv`);\n    link.click();\n\n    setContributionSuccess(true);\n    setTimeout(() => {\n      setShowContributeModal(false);\n      setContributionSuccess(false);\n      setSuggestionList([]);\n    }, 4000);\n  };\n\n  const filteredResources = useMemo(() => {\n    return resources.filter(res => {\n      if (activeTheme === Theme.BOOKMARKS) {\n        return bookmarkedIds.includes(res.id);\n      }\n      const matchesTheme = activeTheme === 'all' || res.category === activeTheme;\n      const matchesSubCategory = activeSubCategory === 'all' || res.subCategory?.toLowerCase() === activeSubCategory.toLowerCase();\n      const matchesSearch = res.title.toLowerCase().includes(searchQuery.toLowerCase()) || \n                            res.description.toLowerCase().includes(searchQuery.toLowerCase());\n      return matchesTheme && matchesSubCategory && matchesSearch;\n    });\n  }, [activeTheme, activeSubCategory, searchQuery, resources, bookmarkedIds]);\n\n  const isAdminDeckActive = activeTheme === 'admin-deck' && isAdmin;\n  const isLandingActive = activeTheme === 'landing';\n  const isBookmarksActive = activeTheme === Theme.BOOKMARKS;\n\n  const collectionName = isAdminDeckActive \n    ? t.management \n    : (isBookmarksActive ? t.bookmarksTitle : (activeTheme === 'all' ? t.archive : currentCollection?.name || t.archive));\n  \n  const subCategoryFilters = useMemo(() => {\n    if (isBookmarksActive) return [];\n    if (!currentCollection) return [];\n    return [...(currentCollection.subCategories || []), 'All'];\n  }, [currentCollection, isBookmarksActive]);\n\n  return (\n    <div className=\"flex h-screen bg-[#FCFDFF] text-slate-900 overflow-hidden font-['Inter'] antialiased relative\">\n      <Sidebar \n        collections={collections} activeTheme={activeTheme} onThemeSelect={handleThemeSelect} \n        isOpen={isSidebarOpen} onClose={() => setIsSidebarOpen(false)}\n        onAdminClick={() => isAdmin ? handleLogout() : null} isAdminActive={isAdmin} taglineWords={taglineWords}\n        bookmarkCount={bookmarkedIds.length}\n      />\n\n      <main className=\"flex-1 flex flex-col overflow-hidden\">\n        {!isLandingActive && (\n          <header className=\"bg-white px-4 md:px-8 pt-4 md:pt-8 pb-5 border-b border-[#F1F5F9]/60 relative z-30\">\n            <div className=\"max-w-[1440px] mx-auto\">\n              <div className=\"flex items-center justify-between mb-4 lg:hidden\">\n                <div className=\"flex items-center font-[900] text-[26px] tracking-[-0.04em] leading-none select-none cursor-pointer\" onClick={() => handleThemeSelect('landing')}>\n                  <span style={{ color: DARK_NAVY }}>HEO</span>\n                  <span style={{ backgroundImage: `linear-gradient(to right, ${DARK_NAVY} 50%, ${BRAND_BLUE} 50%)`, WebkitBackgroundClip: 'text', WebkitTextFillColor: 'transparent', display: 'inline-block', position: 'relative', padding: '0 0.2em', margin: '0 -0.2em' }}>R</span>\n                  <span style={{ color: BRAND_BLUE }}>epo</span>\n                  <div className=\"ml-[2px] self-end\" style={{ backgroundColor: BRAND_BLUE, width: '6.5px', height: '6.5px', marginBottom: '3px' }}></div>\n                </div>\n                <button onClick={() => setIsSidebarOpen(true)} className=\"p-2 hover:bg-slate-50 rounded-xl transition-colors\"><svg className=\"w-6 h-6 text-slate-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2.5}><path d=\"M4 6h16M4 12h16M4 18h16\" /></svg></button>\n              </div>\n\n              <div className=\"flex flex-col md:flex-row md:items-end justify-between gap-4 md:gap-8 mb-6\">\n                <div className=\"flex flex-col gap-2 md:gap-3\">\n                  <div className=\"flex items-center gap-3 md:gap-4\">\n                    <div className=\"px-3 py-1 rounded-full bg-[#EFF6FF] border border-[#2563EB]/20 text-[9px] md:text-[10px] font-[800] tracking-[0.12em] md:tracking-[0.15em] text-[#2563EB] uppercase\">\n                      {isAdminDeckActive ? t.adminPanel : (isBookmarksActive ? t.saved : (activeTheme === 'all' ? t.fullRepo : (currentCollection?.name.toUpperCase() || 'UNKNOWN')))}\n                    </div>\n                    {!isAdminDeckActive && <div className=\"text-[9px] md:text-[10px] font-[800] tracking-[0.12em] md:tracking-[0.15em] text-[#64748B] uppercase\">{filteredResources.length} {t.items}</div>}\n                  </div>\n                  <h1 className=\"text-[32px] md:text-[48px] font-[900] tracking-[-0.04em] leading-[0.9] text-[#0F172A]\">{collectionName} <span className=\"text-[#D1D5DB] font-[900]\">{isAdminDeckActive ? t.deck : t.vault}</span></h1>\n                </div>\n\n                <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 md:gap-6 pb-1\">\n                  {!isAdminDeckActive && (\n                    <div className=\"relative w-full sm:w-[280px] md:w-[380px]\">\n                      <div className=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-[#94A3B8]\"><svg className=\"h-4 w-4 md:h-5 md:w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2.5}><path d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" /></svg></div>\n                      <input type=\"text\" placeholder={t.search} className=\"block w-full pl-10 md:pl-12 pr-6 py-2.5 md:py-3.5 bg-[#F8FAFC] border border-[#F1F5F9] rounded-full text-[14px] md:text-[15px] font-medium text-[#1E293B] focus:ring-1 focus:ring-[#4F46E5] focus:bg-white outline-none shadow-sm transition-all placeholder-[#94A3B8]\" value={searchQuery} onChange={(e) => setSearchQuery(e.target.value)} />\n                    </div>\n                  )}\n                  <button onClick={() => isAdmin ? handleLogout() : setShowContributeModal(true)} className={`flex items-center justify-center gap-2 px-6 md:px-8 py-2.5 md:py-3.5 ${isAdminDeckActive ? 'bg-[#0F172A]' : 'bg-[#2563EB]'} text-white text-[14px] md:text-[15px] font-[700] rounded-full hover:opacity-90 transition-all shadow-md active:scale-[0.96]`}><svg className=\"w-4 h-4 md:w-5 md:h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={3}><path d={isAdminDeckActive ? \"M15 19l-7-7 7-7\" : \"M12 4v16m8-8H4\"} /></svg><span className=\"whitespace-nowrap\">{isAdminDeckActive ? t.exitAdmin : t.contributeBtn}</span></button>\n                </div>\n              </div>\n\n              {!isAdminDeckActive && subCategoryFilters.length > 0 && (\n                <div className=\"min-h-[48px] flex items-center overflow-hidden\">\n                  <div className=\"flex items-center gap-2 md:gap-3 overflow-x-auto pb-2 -mx-4 px-4 scrollbar-hide snap-x snap-mandatory\">\n                    {subCategoryFilters.map((sub) => {\n                      const filterValue = sub.toLowerCase() === 'all' ? 'all' : sub;\n                      const isSelected = activeSubCategory === filterValue;\n                      return (\n                        <button key={sub} onClick={() => setActiveSubCategory(filterValue)} className={`px-5 md:px-6 py-2 md:py-2.5 rounded-full text-[10px] md:text-[11px] font-[800] tracking-[0.1em] uppercase whitespace-nowrap active:scale-95 border transition-all duration-300 snap-center ${isSelected ? 'bg-[#0F172A] text-white border-[#0F172A] shadow-lg shadow-slate-200' : 'bg-white text-[#475569] border-[#E2E8F0] hover:border-[#CBD5E1]'}`}>{sub}</button>\n                      );\n                    })}\n                  </div>\n                </div>\n              )}\n            </div>\n          </header>\n        )}\n\n        <div className=\"flex-1 overflow-y-auto px-4 md:px-8 py-6 md:py-10 scroll-smooth\">\n          <div className=\"max-w-[1440px] mx-auto h-full\">\n            {isLandingActive ? (\n              <div className=\"flex flex-col items-center justify-center h-full text-center animate-card-entry pb-20 select-none relative overflow-visible\">\n                <div className=\"absolute inset-0 pointer-events-none overflow-visible\">\n                   <span className=\"absolute top-[20%] left-[15%] text-4xl animate-float opacity-40 md:opacity-100\">ðŸŽ‰</span>\n                   <span className=\"absolute top-[15%] right-[20%] text-4xl animate-float opacity-40 md:opacity-100\">ðŸ“Š</span>\n                   <span className=\"absolute bottom-[30%] left-[20%] text-4xl animate-float opacity-40 md:opacity-100\">ðŸš€</span>\n                   <span className=\"absolute bottom-[40%] right-[15%] text-4xl animate-float opacity-40 md:opacity-100\">ðŸ’Š</span>\n                   <span className=\"absolute top-[45%] left-[5%] text-3xl animate-float opacity-30 md:opacity-80\" style={{ animationDelay: '0.2s' }}>ðŸ“ˆ</span>\n                   <span className=\"absolute top-[35%] right-[5%] text-3xl animate-float opacity-30 md:opacity-80\" style={{ animationDelay: '0.7s' }}>ðŸ’‰</span>\n                </div>\n                <span className=\"text-lg md:text-2xl font-[600] text-slate-400 mb-2 md:mb-4 block tracking-tight relative z-10\">{t.welcome}</span>\n                <div className=\"flex flex-col items-center mb-6 md:mb-10 relative z-10\">\n                  <div className=\"flex items-center justify-center font-[900] text-[56px] md:text-[110px] tracking-[-0.04em] leading-none\">\n                    <span style={{ color: DARK_NAVY }}>HEO</span>\n                    <span style={{ backgroundImage: `linear-gradient(to right, ${DARK_NAVY} 50%, ${BRAND_BLUE} 50%)`, WebkitBackgroundClip: 'text', WebkitTextFillColor: 'transparent', display: 'inline-block', position: 'relative', padding: '0 0.2em', margin: '0 -0.2em' }}>R</span>\n                    <span style={{ color: BRAND_BLUE }}>epo</span>\n                    <div \n                      onClick={() => setIsDotDropped(true)}\n                      className={`ml-[4px] md:ml-[10px] self-end cursor-pointer transition-transform hover:scale-125 ${isDotDropped ? 'animate-drop' : ''}`} \n                      style={{ backgroundColor: BRAND_BLUE, width: '14px', height: '14px', marginBottom: '8px' }}\n                    ></div>\n                  </div>\n                  <div className=\"max-w-3xl flex flex-col items-center px-4\">\n                    <p className=\"text-[14px] md:text-[19px] text-slate-500 font-medium mt-4 md:mt-6 leading-relaxed\">\n                      The repository of open-source tools & resources <br /> for <span style={{ color: BRAND_BLUE, fontWeights: 900 }}>H</span>ealth <span style={{ color: BRAND_BLUE, fontWeight: 900 }}>E</span>conomics and <span style={{ color: BRAND_BLUE, fontWeight: 900 }}>O</span>utcomes <span style={{ color: BRAND_BLUE, fontWeight: 900 }}>R</span>esearch.\n                    </p>\n                  </div>\n                  <div className=\"mt-12 flex flex-col items-center gap-6 w-full max-w-xl px-4 relative z-10\">\n                    <p className=\"text-slate-400 font-bold text-xs uppercase tracking-[0.2em]\">{t.select}</p>\n                    <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-4 w-full\">\n                      {collections.map(col => (\n                        <button key={col.id} onClick={() => handleThemeSelect(col.id)} className=\"flex flex-col items-center justify-center p-6 bg-white border border-slate-100 rounded-[24px] hover:border-blue-400 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group\">\n                          <span className=\"text-3xl mb-3 group-hover:scale-110 transition-transform\">{col.icon}</span>\n                          <span className=\"text-[11px] font-black uppercase tracking-widest text-slate-600 group-hover:text-blue-600\">{col.name}</span>\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ) : isAdminDeckActive ? (\n              <AdminDashboard resources={resources} setResources={setResources} collections={collections} setCollections={setCollections} taglineWords={taglineWords} setTaglineWords={setTaglineWords} />\n            ) : (\n              <div \n                key={`${activeTheme}-${activeSubCategory}`}\n                className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8 auto-rows-fr animate-card-entry\"\n              >\n                {filteredResources.length > 0 ? filteredResources.map((res, idx) => (\n                  <ResourceCard \n                    key={res.id} \n                    resource={res} \n                    index={idx} \n                    isBookmarked={bookmarkedIds.includes(res.id)}\n                    onToggleBookmark={toggleBookmark}\n                  />\n                )) : (\n                  <div className=\"col-span-full py-20 text-center\">\n                    <div className=\"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-6\">\n                      <svg className=\"w-10 h-10 text-slate-300\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\n                        <path d={isBookmarksActive ? \"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z\" : \"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"} />\n                      </svg>\n                    </div>\n                    <h3 className=\"text-xl font-black text-slate-800 mb-2\">{isBookmarksActive ? t.bookmarksEmpty : t.emptyTitle}</h3>\n                    <p className=\"text-slate-500 max-w-md mx-auto\">{isBookmarksActive ? t.bookmarksEmptyDesc : t.emptyDesc}</p>\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </main>\n\n      <Toast show={toast.show} message={toast.message} onHide={() => setToast({ show: false, message: '' })} />\n\n      {showLoginModal && (\n        <div className=\"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300\">\n          <div className=\"bg-white rounded-[32px] p-8 md:p-10 w-full max-w-md shadow-2xl border border-white/20 animate-in zoom-in-95 duration-300\">\n            <h2 className=\"text-2xl font-black text-slate-900 mb-2\">{t.adminPortal}</h2>\n            <div className=\"space-y-4\">\n              <div>\n                <input type=\"text\" value={password} onChange={(e) => setPassword(e.target.value)} onKeyDown={(e) => e.key === 'Enter' && handleLogin()} className={`w-full px-6 py-4 rounded-2xl bg-slate-50 border ${loginError ? 'border-red-500' : 'border-slate-100'} focus:ring-4 focus:ring-blue-500/10 focus:bg-white outline-none transition-all font-bold`} placeholder=\"Enter Password\" autoFocus />\n                {loginError && <p className=\"text-red-500 text-[11px] font-bold mt-2 ml-1\">{t.incorrectPassword}</p>}\n              </div>\n              <div className=\"flex gap-3 pt-2\">\n                <button onClick={() => setShowLoginModal(false)} className=\"flex-1 px-6 py-4 rounded-2xl bg-slate-100 text-slate-600 font-bold hover:bg-slate-200 transition-all\">{t.cancel}</button>\n                <button onClick={handleLogin} className=\"flex-1 px-6 py-4 rounded-2xl bg-[#2563EB] text-white font-bold hover:opacity-90 transition-all\">{t.confirm}</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {showContributeModal && (\n        <div className=\"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300 overflow-y-auto\">\n          <div className=\"bg-white rounded-[32px] p-8 md:p-10 w-full max-w-2xl shadow-2xl border border-white/20 animate-in zoom-in-95 duration-300 my-8\">\n            {contributionSuccess ? (\n              <div className=\"text-center py-10 animate-in zoom-in duration-500\">\n                <div className=\"w-20 h-20 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center mx-auto mb-6\"><svg className=\"w-10 h-10\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={3}><path d=\"M5 13l4 4L19 7\" /></svg></div>\n                <h2 className=\"text-2xl font-black text-slate-900 mb-2\">{t.subReceived}</h2>\n                <p className=\"text-slate-500\">{t.subReceivedDesc}</p>\n              </div>\n            ) : (\n              <>\n                <div className=\"flex justify-between items-start mb-6\">\n                  <div>\n                    <h2 className=\"text-2xl font-black text-slate-900 mb-1\">{t.contributeTitle}</h2>\n                    <p className=\"text-slate-500 text-sm leading-relaxed\">{t.contributeDesc}</p>\n                  </div>\n                  <button onClick={() => setShowContributeModal(false)} className=\"p-2 hover:bg-slate-100 rounded-full text-slate-400 transition-colors\"><svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2.5}><path d=\"M6 18L18 6M6 6l12 12\" /></svg></button>\n                </div>\n\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n                  <div className=\"space-y-4\">\n                    <div className=\"bg-slate-50/50 p-6 rounded-[24px] border border-slate-100 space-y-4\">\n                      <div>\n                        <label className=\"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1\">{t.title}</label>\n                        <input className=\"w-full px-5 py-3 rounded-xl bg-white border border-slate-200 focus:ring-4 focus:ring-blue-500/10 outline-none font-bold text-sm\" value={contributionData.title} onChange={e => setContributionData({...contributionData, title: e.target.value})} placeholder=\"Resource name\" />\n                      </div>\n                      <div>\n                        <label className=\"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1\">{t.url}</label>\n                        <input className=\"w-full px-5 py-3 rounded-xl bg-white border border-slate-200 focus:ring-4 focus:ring-blue-500/10 outline-none font-bold text-sm\" value={contributionData.url} onChange={e => setContributionData({...contributionData, url: e.target.value})} placeholder=\"https://...\" />\n                      </div>\n                      <div>\n                        <label className=\"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1\">{t.suggestedCol}</label>\n                        <select className=\"w-full px-5 py-3 rounded-xl bg-white border border-slate-200 focus:ring-4 focus:ring-blue-500/10 outline-none font-bold text-sm\" value={contributionData.category} onChange={e => setContributionData({...contributionData, category: e.target.value as any})}>\n                          {collections.map(c => <option key={c.id} value={c.id}>{c.name}</option>)}\n                        </select>\n                      </div>\n                      <div>\n                        <label className=\"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1\">{t.description}</label>\n                        <textarea rows={2} className=\"w-full px-5 py-3 rounded-xl bg-white border border-slate-200 focus:ring-4 focus:ring-blue-500/10 outline-none font-bold text-sm resize-none\" value={contributionData.description} onChange={e => setContributionData({...contributionData, description: e.target.value})} placeholder=\"Briefly describe...\" />\n                      </div>\n                      <div>\n                        <label className=\"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1\">{t.yourName}</label>\n                        <input className=\"w-full px-5 py-3 rounded-xl bg-white border border-slate-200 font-bold text-sm mb-2\" value={contributionData.userName} onChange={e => setContributionData({...contributionData, userName: e.target.value})} placeholder=\"Your Name\" />\n                        <label className=\"flex items-center gap-2 cursor-pointer\">\n                          <input type=\"checkbox\" className=\"w-4 h-4 rounded\" checked={contributionData.wantsCredit} onChange={e => setContributionData({...contributionData, wantsCredit: e.target.checked})} />\n                          <span className=\"text-xs font-bold text-slate-500\">{t.creditName}</span>\n                        </label>\n                      </div>\n                      <button onClick={handleAddSuggestionToList} className=\"w-full bg-[#0F172A] text-white py-3 rounded-xl font-black uppercase tracking-widest text-[11px] hover:bg-black transition-all\">Add to List</button>\n                    </div>\n                  </div>\n\n                  <div className=\"flex flex-col h-full min-h-[400px]\">\n                    <div className=\"flex-1 overflow-y-auto pr-2 space-y-3 scrollbar-hide\">\n                      <div className=\"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex justify-between\">\n                        <span>List of Suggestions</span>\n                        <span className=\"text-blue-600\">{suggestionList.length}</span>\n                      </div>\n                      {suggestionList.length === 0 ? (\n                        <div className=\"h-full min-h-[200px] border-2 border-dashed border-slate-100 rounded-[24px] flex items-center justify-center text-slate-300 font-bold text-xs italic\">Empty list.</div>\n                      ) : (\n                        suggestionList.map((item, idx) => (\n                          <div key={idx} className=\"p-4 bg-white border border-slate-100 rounded-2xl shadow-sm relative group\">\n                            <button onClick={() => handleRemoveFromList(idx)} className=\"absolute top-2 right-2 p-1 text-slate-300 hover:text-red-500\"><svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path d=\"M6 18L18 6M6 6l12 12\" /></svg></button>\n                            <div className=\"font-black text-slate-800 text-[13px] truncate pr-6\">{item.title}</div>\n                            <div className=\"text-[10px] text-blue-500 font-bold truncate\">{item.url}</div>\n                          </div>\n                        ))\n                      )}\n                    </div>\n                    <button onClick={handleExportCSV} disabled={suggestionList.length === 0} className={`w-full mt-6 py-4 rounded-2xl font-black uppercase tracking-widest shadow-lg transition-all ${suggestionList.length > 0 ? 'bg-[#2563EB] text-white shadow-blue-500/20 hover:opacity-90' : 'bg-slate-100 text-slate-400 cursor-not-allowed'}`}>Export CSV</button>\n                  </div>\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"
            }
          ]
        }
      ]
    },
    "createdTimestamp": {
      "seconds": 1770341727,
      "nanos": 364000000
    },
    "doneTimestamp": {
      "seconds": 1770341784,
      "nanos": 325000000
    }
  },
  {
    "id": 48,
    "author": "model",
    "payload": {
      "type": "fixingErrors",
      "diagnostics": [
        {
          "RLa": "App.tsx",
          "message": "Object literal may only specify known properties, but 'fontWeights' does not exist in type 'Properties<string | number, string & {}>'. Did you mean to write 'fontWeight'?",
          "line": 409,
          "column": 116
        }
      ]
    },
    "createdTimestamp": {
      "seconds": 1770341776,
      "nanos": 165000000
    },
    "doneTimestamp": {
      "seconds": 1770341784,
      "nanos": 325000000
    }
  },
  {
    "id": 49,
    "author": "model",
    "payload": {
      "type": "thinking",
      "text": "**Addressing the Typo**\n\nI'm focused on resolving a typo within `App.tsx` at line 409. The error message clearly indicates an issue with `fontWeights`, which the compiler doesn't recognize. It's suggesting `fontWeight` instead, which is likely the correct property. My next step will be to make the indicated correction.\n\n\n**Examining the Code**\n\nI'm now diving into the code again, specifically at the snippet provided, line 399. I see the typo confirmed: `fontWeights` should be `fontWeight`. I will correct the typo in the file.\n\n\n",
      "cMarkNode": {}
    },
    "createdTimestamp": {
      "seconds": 1770341782,
      "nanos": 314000000
    },
    "doneTimestamp": {
      "seconds": 1770341784,
      "nanos": 325000000
    }
  },
  {
    "id": 50,
    "author": "model",
    "payload": {
      "type": "text",
      "text": "xml\n",
      "cMarkNode": {}
    },
    "createdTimestamp": {
      "seconds": 1770341784,
      "nanos": 325000000
    },
    "doneTimestamp": {
      "seconds": 1770341784,
      "nanos": 376000000
    }
  },
  {
    "id": 51,
    "author": "model",
    "payload": {
      "type": "generationTable",
      "entries": [
        {
          "path": "App.tsx",
          "generationType": 2,
          "isDone": true,
          "description": "Fix typo 'fontWeights' to 'fontWeight' in the landing page description span styles.",
          "diffs": [
            {
              "target": "",
              "replacement": "\nimport React, { useState, useMemo, useEffect, useCallback } from 'react';\nimport Sidebar from './components/Sidebar';\nimport ResourceCard from './components/ResourceCard';\nimport AdminDashboard from './components/AdminDashboard';\nimport { COLLECTIONS as initialCollections, RESOURCES as initialResources, TAGLINE_WORDS as initialTaglines, REPO_VERSION } from './data';\nimport { Resource, Collection, Theme } from './types';\n\nconst BRAND_BLUE = '#2563EB';\nconst DARK_NAVY = '#121A26';\n\nconst t = {\n  welcome: \"Welcome to\",\n  intro: \"The repository of open-source tools & resources for Health Economics and Outcomes Research\",\n  select: \"Select a collection to begin ðŸ‘‡\",\n  contributeBtn: \"Contribute to HEORepo.\",\n  archive: \"Archive\",\n  vault: \"Vault\",\n  deck: \"Deck\",\n  search: \"Search...\",\n  items: \"ITEMS\",\n  adminPanel: \"ADMIN CONTROL PANEL\",\n  fullRepo: \"FULL REPOSITORY\",\n  exitAdmin: \"Exit Admin\",\n  management: \"Management\",\n  emptyTitle: \"Empty Archive\",\n  emptyDesc: \"Adjust your filters or try a different search term.\",\n  version: \"VERSION\",\n  adminMode: \"ADMIN MODE\",\n  adminPortal: \"Admin Portal\",\n  adminPortalDesc: \"Enter system password to access management tools.\",\n  password: \"Password\",\n  incorrectPassword: \"Incorrect Password\",\n  cancel: \"Cancel\",\n  confirm: \"Confirm\",\n  contributeTitle: \"Contribute\",\n  contributeDesc: \"Suggest high-quality HEOR resources. Please input your suggestions below, then click 'Export CSV' and email the resulting file to contact@heorepo.com for review.\",\n  title: \"Title\",\n  url: \"URL\",\n  suggestedCol: \"Suggested Collection\",\n  description: \"Description\",\n  yourName: \"Your Name\",\n  creditName: \"Credit my name\",\n  addToList: \"Add to List\",\n  exportCsv: \"Export CSV\",\n  subReceived: \"Export Successful\",\n  subReceivedDesc: \"CSV exported. Please email it to contact@heorepo.com\",\n  allResources: \"All Resources\",\n  bookmarksTitle: \"Your Bookmarks\",\n  bookmarksEmpty: \"No bookmarks yet.\",\n  bookmarksEmptyDesc: \"Save resources for quick access by clicking the bookmark icon on any card.\",\n  bookmarkAdded: \"Book mark added\",\n  // Fix: Added missing 'saved' property used in the header component\n  saved: \"SAVED\"\n};\n\nconst sanitizeData = (str: string): string => {\n  if (typeof str !== 'string') return '';\n  return str.replace(/<[^>]*>?/gm, '').trim();\n};\n\nconst isValidLink = (url: string): boolean => {\n  try {\n    const parsed = new URL(url.startsWith('http') ? url : `https://${url}`);\n    return parsed.protocol === 'http:' || parsed.protocol === 'https:';\n  } catch {\n    return false;\n  }\n};\n\nconst escapeCSV = (val: string | undefined): string => {\n  if (!val) return '\"\"';\n  const str = val.toString().replace(/\"/g, '\"\"');\n  return `\"${str}\"`;\n};\n\nconst Toast: React.FC<{ message: string; show: boolean; onHide: () => void }> = ({ message, show, onHide }) => {\n  useEffect(() => {\n    if (show) {\n      const timer = setTimeout(onHide, 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [show, onHide]);\n\n  return (\n    <div className={`fixed bottom-8 left-1/2 -translate-x-1/2 z-[100] transition-all duration-500 ${show ? 'translate-y-0 opacity-100' : 'translate-y-4 opacity-0 pointer-events-none'}`}>\n      <div className=\"bg-[#2563EB] text-white px-6 py-3 rounded-full shadow-2xl flex items-center gap-3 border border-white/20\">\n        <span className=\"text-[13px] font-black uppercase tracking-widest\">{message}</span>\n        <div className=\"w-5 h-5 rounded-full bg-emerald-500 flex items-center justify-center shrink-0\">\n          <svg className=\"w-3 h-3 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={4}><path d=\"M5 13l4 4L19 7\" /></svg>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst App: React.FC = () => {\n  const [activeTheme, setActiveTheme] = useState<string>('landing');\n  const [activeSubCategory, setActiveSubCategory] = useState<string>('all');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  const [isDotDropped, setIsDotDropped] = useState(false);\n  \n  const [isAdmin, setIsAdmin] = useState(false);\n  const [showLoginModal, setShowLoginModal] = useState(false);\n  const [password, setPassword] = useState('');\n  const [loginError, setLoginError] = useState(false);\n\n  const [toast, setToast] = useState<{ show: boolean; message: string }>({ show: false, message: '' });\n\n  const shouldResetCache = useMemo(() => {\n    const savedVersionStr = localStorage.getItem('heo_repo_version');\n    const savedVersion = savedVersionStr ? parseInt(savedVersionStr) : 0;\n    const currentVersion = REPO_VERSION || 0;\n    return currentVersion > savedVersion;\n  }, []);\n\n  const [collections, setCollections] = useState<Collection[]>(() => {\n    try {\n      if (shouldResetCache) return initialCollections;\n      const saved = localStorage.getItem('heo_collections');\n      return saved ? JSON.parse(saved) : initialCollections;\n    } catch { return initialCollections; }\n  });\n  \n  const [resources, setResources] = useState<Resource[]>(() => {\n    try {\n      if (shouldResetCache) return initialResources;\n      const saved = localStorage.getItem('heo_resources');\n      return saved ? JSON.parse(saved) : initialResources;\n    } catch { return initialResources; }\n  });\n  \n  const [taglineWords, setTaglineWords] = useState<string[]>(() => {\n    try {\n      if (shouldResetCache) return initialTaglines;\n      const saved = localStorage.getItem('heo_tagline');\n      return saved ? JSON.parse(saved) : initialTaglines;\n    } catch { return initialTaglines; }\n  });\n\n  const [bookmarkedIds, setBookmarkedIds] = useState<string[]>(() => {\n    try {\n      const saved = localStorage.getItem('heo_bookmarks');\n      return saved ? JSON.parse(saved) : [];\n    } catch { return []; }\n  });\n\n  const toggleBookmark = useCallback((id: string) => {\n    setBookmarkedIds(prev => {\n      const isAdding = !prev.includes(id);\n      const newList = isAdding ? [...prev, id] : prev.filter(bid => bid !== id);\n      \n      if (isAdding) {\n        setToast({ show: true, message: t.bookmarkAdded });\n      }\n      \n      localStorage.setItem('heo_bookmarks', JSON.stringify(newList));\n      return newList;\n    });\n  }, []);\n\n  const handleThemeSelect = useCallback((id: string) => {\n    const collection = collections.find(c => c.id === id);\n    let initialSub = 'all';\n    \n    if (id !== 'landing' && id !== Theme.BOOKMARKS && collection && collection.subCategories && collection.subCategories.length > 0) {\n      initialSub = collection.subCategories[0];\n    }\n\n    setActiveTheme(id);\n    setActiveSubCategory(initialSub);\n    setSearchQuery('');\n    \n    if (id !== 'landing') {\n      setIsDotDropped(false);\n    }\n  }, [collections]);\n\n  const currentCollection = useMemo(() => collections.find(c => c.id === activeTheme), [activeTheme, collections]);\n\n  useEffect(() => {\n    if (searchQuery.toLowerCase() === 'admin') {\n      setSearchQuery('');\n      setShowLoginModal(true);\n    }\n  }, [searchQuery]);\n\n  useEffect(() => {\n    try {\n      localStorage.setItem('heo_collections', JSON.stringify(collections));\n      localStorage.setItem('heo_resources', JSON.stringify(resources));\n      localStorage.setItem('heo_tagline', JSON.stringify(taglineWords));\n      localStorage.setItem('heo_repo_version', (REPO_VERSION || 0).toString());\n    } catch (e) {}\n  }, [collections, resources, taglineWords]);\n\n  const handleLogin = () => {\n    if (password.trim() === '123456') {\n      setIsAdmin(true);\n      setShowLoginModal(false);\n      setPassword('');\n      setLoginError(false);\n      handleThemeSelect('admin-deck');\n    } else {\n      setLoginError(true);\n    }\n  };\n\n  const handleLogout = () => {\n    setIsAdmin(false);\n    if (activeTheme === 'admin-deck') {\n      handleThemeSelect('landing');\n    }\n  };\n\n  const [showContributeModal, setShowContributeModal] = useState(false);\n  const [suggestionList, setSuggestionList] = useState<any[]>([]);\n  const [contributionData, setContributionData] = useState({ \n    title: '', \n    url: '', \n    description: '', \n    userName: '', \n    category: Theme.GENERAL, \n    wantsCredit: true \n  });\n  const [contributionSuccess, setContributionSuccess] = useState(false);\n\n  const handleAddSuggestionToList = () => {\n    if (!contributionData.title || !contributionData.url) {\n      alert(\"Please provide at least a title and a valid URL.\");\n      return;\n    }\n    if (!isValidLink(contributionData.url)) {\n      alert(\"Please provide a secure and valid URL.\");\n      return;\n    }\n\n    setSuggestionList(prev => [...prev, {\n      title: sanitizeData(contributionData.title),\n      url: contributionData.url,\n      description: sanitizeData(contributionData.description),\n      userName: sanitizeData(contributionData.userName),\n      category: contributionData.category,\n      wantsCredit: contributionData.wantsCredit\n    }]);\n\n    setContributionData({ \n      title: '', \n      url: '', \n      description: '', \n      userName: contributionData.userName, \n      category: Theme.GENERAL, \n      wantsCredit: contributionData.wantsCredit \n    });\n  };\n\n  const handleRemoveFromList = (idx: number) => {\n    setSuggestionList(prev => prev.filter((_, i) => i !== idx));\n  };\n\n  const handleExportCSV = () => {\n    if (suggestionList.length === 0) {\n      alert(\"Add at least one suggestion to the list before exporting.\");\n      return;\n    }\n\n    const headers = ['Title', 'Description', 'URL', 'Contributor', 'Category', 'SubCategory'];\n    const csvRows = suggestionList.map(item => [\n      escapeCSV(item.title),\n      escapeCSV(item.description),\n      escapeCSV(item.url),\n      escapeCSV(item.wantsCredit ? item.userName : 'Anonymous'),\n      escapeCSV(item.category),\n      escapeCSV('all')\n    ].join(\",\"));\n\n    const csvContent = [headers.join(\",\"), ...csvRows].join(\"\\n\");\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement(\"a\");\n    link.setAttribute(\"href\", url);\n    link.setAttribute(\"download\", `heorepo_suggestions_${new Date().getTime()}.csv`);\n    link.click();\n\n    setContributionSuccess(true);\n    setTimeout(() => {\n      setShowContributeModal(false);\n      setContributionSuccess(false);\n      setSuggestionList([]);\n    }, 4000);\n  };\n\n  const filteredResources = useMemo(() => {\n    return resources.filter(res => {\n      if (activeTheme === Theme.BOOKMARKS) {\n        return bookmarkedIds.includes(res.id);\n      }\n      const matchesTheme = activeTheme === 'all' || res.category === activeTheme;\n      const matchesSubCategory = activeSubCategory === 'all' || res.subCategory?.toLowerCase() === activeSubCategory.toLowerCase();\n      const matchesSearch = res.title.toLowerCase().includes(searchQuery.toLowerCase()) || \n                            res.description.toLowerCase().includes(searchQuery.toLowerCase());\n      return matchesTheme && matchesSubCategory && matchesSearch;\n    });\n  }, [activeTheme, activeSubCategory, searchQuery, resources, bookmarkedIds]);\n\n  const isAdminDeckActive = activeTheme === 'admin-deck' && isAdmin;\n  const isLandingActive = activeTheme === 'landing';\n  const isBookmarksActive = activeTheme === Theme.BOOKMARKS;\n\n  const collectionName = isAdminDeckActive \n    ? t.management \n    : (isBookmarksActive ? t.bookmarksTitle : (activeTheme === 'all' ? t.archive : currentCollection?.name || t.archive));\n  \n  const subCategoryFilters = useMemo(() => {\n    if (isBookmarksActive) return [];\n    if (!currentCollection) return [];\n    return [...(currentCollection.subCategories || []), 'All'];\n  }, [currentCollection, isBookmarksActive]);\n\n  return (\n    <div className=\"flex h-screen bg-[#FCFDFF] text-slate-900 overflow-hidden font-['Inter'] antialiased relative\">\n      <Sidebar \n        collections={collections} activeTheme={activeTheme} onThemeSelect={handleThemeSelect} \n        isOpen={isSidebarOpen} onClose={() => setIsSidebarOpen(false)}\n        onAdminClick={() => isAdmin ? handleLogout() : null} isAdminActive={isAdmin} taglineWords={taglineWords}\n        bookmarkCount={bookmarkedIds.length}\n      />\n\n      <main className=\"flex-1 flex flex-col overflow-hidden\">\n        {!isLandingActive && (\n          <header className=\"bg-white px-4 md:px-8 pt-4 md:pt-8 pb-5 border-b border-[#F1F5F9]/60 relative z-30\">\n            <div className=\"max-w-[1440px] mx-auto\">\n              <div className=\"flex items-center justify-between mb-4 lg:hidden\">\n                <div className=\"flex items-center font-[900] text-[26px] tracking-[-0.04em] leading-none select-none cursor-pointer\" onClick={() => handleThemeSelect('landing')}>\n                  <span style={{ color: DARK_NAVY }}>HEO</span>\n                  <span style={{ backgroundImage: `linear-gradient(to right, ${DARK_NAVY} 50%, ${BRAND_BLUE} 50%)`, WebkitBackgroundClip: 'text', WebkitTextFillColor: 'transparent', display: 'inline-block', position: 'relative', padding: '0 0.2em', margin: '0 -0.2em' }}>R</span>\n                  <span style={{ color: BRAND_BLUE }}>epo</span>\n                  <div className=\"ml-[2px] self-end\" style={{ backgroundColor: BRAND_BLUE, width: '6.5px', height: '6.5px', marginBottom: '3px' }}></div>\n                </div>\n                <button onClick={() => setIsSidebarOpen(true)} className=\"p-2 hover:bg-slate-50 rounded-xl transition-colors\"><svg className=\"w-6 h-6 text-slate-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2.5}><path d=\"M4 6h16M4 12h16M4 18h16\" /></svg></button>\n              </div>\n\n              <div className=\"flex flex-col md:flex-row md:items-end justify-between gap-4 md:gap-8 mb-6\">\n                <div className=\"flex flex-col gap-2 md:gap-3\">\n                  <div className=\"flex items-center gap-3 md:gap-4\">\n                    <div className=\"px-3 py-1 rounded-full bg-[#EFF6FF] border border-[#2563EB]/20 text-[9px] md:text-[10px] font-[800] tracking-[0.12em] md:tracking-[0.15em] text-[#2563EB] uppercase\">\n                      {isAdminDeckActive ? t.adminPanel : (isBookmarksActive ? t.saved : (activeTheme === 'all' ? t.fullRepo : (currentCollection?.name.toUpperCase() || 'UNKNOWN')))}\n                    </div>\n                    {!isAdminDeckActive && <div className=\"text-[9px] md:text-[10px] font-[800] tracking-[0.12em] md:tracking-[0.15em] text-[#64748B] uppercase\">{filteredResources.length} {t.items}</div>}\n                  </div>\n                  <h1 className=\"text-[32px] md:text-[48px] font-[900] tracking-[-0.04em] leading-[0.9] text-[#0F172A]\">{collectionName} <span className=\"text-[#D1D5DB] font-[900]\">{isAdminDeckActive ? t.deck : t.vault}</span></h1>\n                </div>\n\n                <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 md:gap-6 pb-1\">\n                  {!isAdminDeckActive && (\n                    <div className=\"relative w-full sm:w-[280px] md:w-[380px]\">\n                      <div className=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-[#94A3B8]\"><svg className=\"h-4 w-4 md:h-5 md:w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2.5}><path d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" /></svg></div>\n                      <input type=\"text\" placeholder={t.search} className=\"block w-full pl-10 md:pl-12 pr-6 py-2.5 md:py-3.5 bg-[#F8FAFC] border border-[#F1F5F9] rounded-full text-[14px] md:text-[15px] font-medium text-[#1E293B] focus:ring-1 focus:ring-[#4F46E5] focus:bg-white outline-none shadow-sm transition-all placeholder-[#94A3B8]\" value={searchQuery} onChange={(e) => setSearchQuery(e.target.value)} />\n                    </div>\n                  )}\n                  <button onClick={() => isAdmin ? handleLogout() : setShowContributeModal(true)} className={`flex items-center justify-center gap-2 px-6 md:px-8 py-2.5 md:py-3.5 ${isAdminDeckActive ? 'bg-[#0F172A]' : 'bg-[#2563EB]'} text-white text-[14px] md:text-[15px] font-[700] rounded-full hover:opacity-90 transition-all shadow-md active:scale-[0.96]`}><svg className=\"w-4 h-4 md:w-5 md:h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={3}><path d={isAdminDeckActive ? \"M15 19l-7-7 7-7\" : \"M12 4v16m8-8H4\"} /></svg><span className=\"whitespace-nowrap\">{isAdminDeckActive ? t.exitAdmin : t.contributeBtn}</span></button>\n                </div>\n              </div>\n\n              {!isAdminDeckActive && subCategoryFilters.length > 0 && (\n                <div className=\"min-h-[48px] flex items-center overflow-hidden\">\n                  <div className=\"flex items-center gap-2 md:gap-3 overflow-x-auto pb-2 -mx-4 px-4 scrollbar-hide snap-x snap-mandatory\">\n                    {subCategoryFilters.map((sub) => {\n                      const filterValue = sub.toLowerCase() === 'all' ? 'all' : sub;\n                      const isSelected = activeSubCategory === filterValue;\n                      return (\n                        <button key={sub} onClick={() => setActiveSubCategory(filterValue)} className={`px-5 md:px-6 py-2 md:py-2.5 rounded-full text-[10px] md:text-[11px] font-[800] tracking-[0.1em] uppercase whitespace-nowrap active:scale-95 border transition-all duration-300 snap-center ${isSelected ? 'bg-[#0F172A] text-white border-[#0F172A] shadow-lg shadow-slate-200' : 'bg-white text-[#475569] border-[#E2E8F0] hover:border-[#CBD5E1]'}`}>{sub}</button>\n                      );\n                    })}\n                  </div>\n                </div>\n              )}\n            </div>\n          </header>\n        )}\n\n        <div className=\"flex-1 overflow-y-auto px-4 md:px-8 py-6 md:py-10 scroll-smooth\">\n          <div className=\"max-w-[1440px] mx-auto h-full\">\n            {isLandingActive ? (\n              <div className=\"flex flex-col items-center justify-center h-full text-center animate-card-entry pb-20 select-none relative overflow-visible\">\n                <div className=\"absolute inset-0 pointer-events-none overflow-visible\">\n                   <span className=\"absolute top-[20%] left-[15%] text-4xl animate-float opacity-40 md:opacity-100\">ðŸŽ‰</span>\n                   <span className=\"absolute top-[15%] right-[20%] text-4xl animate-float opacity-40 md:opacity-100\">ðŸ“Š</span>\n                   <span className=\"absolute bottom-[30%] left-[20%] text-4xl animate-float opacity-40 md:opacity-100\">ðŸš€</span>\n                   <span className=\"absolute bottom-[40%] right-[15%] text-4xl animate-float opacity-40 md:opacity-100\">ðŸ’Š</span>\n                   <span className=\"absolute top-[45%] left-[5%] text-3xl animate-float opacity-30 md:opacity-80\" style={{ animationDelay: '0.2s' }}>ðŸ“ˆ</span>\n                   <span className=\"absolute top-[35%] right-[5%] text-3xl animate-float opacity-30 md:opacity-80\" style={{ animationDelay: '0.7s' }}>ðŸ’‰</span>\n                </div>\n                <span className=\"text-lg md:text-2xl font-[600] text-slate-400 mb-2 md:mb-4 block tracking-tight relative z-10\">{t.welcome}</span>\n                <div className=\"flex flex-col items-center mb-6 md:mb-10 relative z-10\">\n                  <div className=\"flex items-center justify-center font-[900] text-[56px] md:text-[110px] tracking-[-0.04em] leading-none\">\n                    <span style={{ color: DARK_NAVY }}>HEO</span>\n                    <span style={{ backgroundImage: `linear-gradient(to right, ${DARK_NAVY} 50%, ${BRAND_BLUE} 50%)`, WebkitBackgroundClip: 'text', WebkitTextFillColor: 'transparent', display: 'inline-block', position: 'relative', padding: '0 0.2em', margin: '0 -0.2em' }}>R</span>\n                    <span style={{ color: BRAND_BLUE }}>epo</span>\n                    <div \n                      onClick={() => setIsDotDropped(true)}\n                      className={`ml-[4px] md:ml-[10px] self-end cursor-pointer transition-transform hover:scale-125 ${isDotDropped ? 'animate-drop' : ''}`} \n                      style={{ backgroundColor: BRAND_BLUE, width: '14px', height: '14px', marginBottom: '8px' }}\n                    ></div>\n                  </div>\n                  <div className=\"max-w-3xl flex flex-col items-center px-4\">\n                    <p className=\"text-[14px] md:text-[19px] text-slate-500 font-medium mt-4 md:mt-6 leading-relaxed\">\n                      {/* Fix: Corrected typo 'fontWeights' to 'fontWeight' */}\n                      The repository of open-source tools & resources <br /> for <span style={{ color: BRAND_BLUE, fontWeight: 900 }}>H</span>ealth <span style={{ color: BRAND_BLUE, fontWeight: 900 }}>E</span>conomics and <span style={{ color: BRAND_BLUE, fontWeight: 900 }}>O</span>utcomes <span style={{ color: BRAND_BLUE, fontWeight: 900 }}>R</span>esearch.\n                    </p>\n                  </div>\n                  <div className=\"mt-12 flex flex-col items-center gap-6 w-full max-w-xl px-4 relative z-10\">\n                    <p className=\"text-slate-400 font-bold text-xs uppercase tracking-[0.2em]\">{t.select}</p>\n                    <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-4 w-full\">\n                      {collections.map(col => (\n                        <button key={col.id} onClick={() => handleThemeSelect(col.id)} className=\"flex flex-col items-center justify-center p-6 bg-white border border-slate-100 rounded-[24px] hover:border-blue-400 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group\">\n                          <span className=\"text-3xl mb-3 group-hover:scale-110 transition-transform\">{col.icon}</span>\n                          <span className=\"text-[11px] font-black uppercase tracking-widest text-slate-600 group-hover:text-blue-600\">{col.name}</span>\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ) : isAdminDeckActive ? (\n              <AdminDashboard resources={resources} setResources={setResources} collections={collections} setCollections={setCollections} taglineWords={taglineWords} setTaglineWords={setTaglineWords} />\n            ) : (\n              <div \n                key={`${activeTheme}-${activeSubCategory}`}\n                className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8 auto-rows-fr animate-card-entry\"\n              >\n                {filteredResources.length > 0 ? filteredResources.map((res, idx) => (\n                  <ResourceCard \n                    key={res.id} \n                    resource={res} \n                    index={idx} \n                    isBookmarked={bookmarkedIds.includes(res.id)}\n                    onToggleBookmark={toggleBookmark}\n                  />\n                )) : (\n                  <div className=\"col-span-full py-20 text-center\">\n                    <div className=\"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-6\">\n                      <svg className=\"w-10 h-10 text-slate-300\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\n                        <path d={isBookmarksActive ? \"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z\" : \"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"} />\n                      </svg>\n                    </div>\n                    <h3 className=\"text-xl font-black text-slate-800 mb-2\">{isBookmarksActive ? t.bookmarksEmpty : t.emptyTitle}</h3>\n                    <p className=\"text-slate-500 max-w-md mx-auto\">{isBookmarksActive ? t.bookmarksEmptyDesc : t.emptyDesc}</p>\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </main>\n\n      <Toast show={toast.show} message={toast.message} onHide={() => setToast({ show: false, message: '' })} />\n\n      {showLoginModal && (\n        <div className=\"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300\">\n          <div className=\"bg-white rounded-[32px] p-8 md:p-10 w-full max-w-md shadow-2xl border border-white/20 animate-in zoom-in-95 duration-300\">\n            <h2 className=\"text-2xl font-black text-slate-900 mb-2\">{t.adminPortal}</h2>\n            <div className=\"space-y-4\">\n              <div>\n                <input type=\"text\" value={password} onChange={(e) => setPassword(e.target.value)} onKeyDown={(e) => e.key === 'Enter' && handleLogin()} className={`w-full px-6 py-4 rounded-2xl bg-slate-50 border ${loginError ? 'border-red-500' : 'border-slate-100'} focus:ring-4 focus:ring-blue-500/10 focus:bg-white outline-none transition-all font-bold`} placeholder=\"Enter Password\" autoFocus />\n                {loginError && <p className=\"text-red-500 text-[11px] font-bold mt-2 ml-1\">{t.incorrectPassword}</p>}\n              </div>\n              <div className=\"flex gap-3 pt-2\">\n                <button onClick={() => setShowLoginModal(false)} className=\"flex-1 px-6 py-4 rounded-2xl bg-slate-100 text-slate-600 font-bold hover:bg-slate-200 transition-all\">{t.cancel}</button>\n                <button onClick={handleLogin} className=\"flex-1 px-6 py-4 rounded-2xl bg-[#2563EB] text-white font-bold hover:opacity-90 transition-all\">{t.confirm}</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {showContributeModal && (\n        <div className=\"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300 overflow-y-auto\">\n          <div className=\"bg-white rounded-[32px] p-8 md:p-10 w-full max-w-2xl shadow-2xl border border-white/20 animate-in zoom-in-95 duration-300 my-8\">\n            {contributionSuccess ? (\n              <div className=\"text-center py-10 animate-in zoom-in duration-500\">\n                <div className=\"w-20 h-20 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center mx-auto mb-6\"><svg className=\"w-10 h-10\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={3}><path d=\"M5 13l4 4L19 7\" /></svg></div>\n                <h2 className=\"text-2xl font-black text-slate-900 mb-2\">{t.subReceived}</h2>\n                <p className=\"text-slate-500\">{t.subReceivedDesc}</p>\n              </div>\n            ) : (\n              <>\n                <div className=\"flex justify-between items-start mb-6\">\n                  <div>\n                    <h2 className=\"text-2xl font-black text-slate-900 mb-1\">{t.contributeTitle}</h2>\n                    <p className=\"text-slate-500 text-sm leading-relaxed\">{t.contributeDesc}</p>\n                  </div>\n                  <button onClick={() => setShowContributeModal(false)} className=\"p-2 hover:bg-slate-100 rounded-full text-slate-400 transition-colors\"><svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2.5}><path d=\"M6 18L18 6M6 6l12 12\" /></svg></button>\n                </div>\n\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n                  <div className=\"space-y-4\">\n                    <div className=\"bg-slate-50/50 p-6 rounded-[24px] border border-slate-100 space-y-4\">\n                      <div>\n                        <label className=\"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1\">{t.title}</label>\n                        <input className=\"w-full px-5 py-3 rounded-xl bg-white border border-slate-200 focus:ring-4 focus:ring-blue-500/10 outline-none font-bold text-sm\" value={contributionData.title} onChange={e => setContributionData({...contributionData, title: e.target.value})} placeholder=\"Resource name\" />\n                      </div>\n                      <div>\n                        <label className=\"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1\">{t.url}</label>\n                        <input className=\"w-full px-5 py-3 rounded-xl bg-white border border-slate-200 focus:ring-4 focus:ring-blue-500/10 outline-none font-bold text-sm\" value={contributionData.url} onChange={e => setContributionData({...contributionData, url: e.target.value})} placeholder=\"https://...\" />\n                      </div>\n                      <div>\n                        <label className=\"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1\">{t.suggestedCol}</label>\n                        <select className=\"w-full px-5 py-3 rounded-xl bg-white border border-slate-200 focus:ring-4 focus:ring-blue-500/10 outline-none font-bold text-sm\" value={contributionData.category} onChange={e => setContributionData({...contributionData, category: e.target.value as any})}>\n                          {collections.map(c => <option key={c.id} value={c.id}>{c.name}</option>)}\n                        </select>\n                      </div>\n                      <div>\n                        <label className=\"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1\">{t.description}</label>\n                        <textarea rows={2} className=\"w-full px-5 py-3 rounded-xl bg-white border border-slate-200 focus:ring-4 focus:ring-blue-500/10 outline-none font-bold text-sm resize-none\" value={contributionData.description} onChange={e => setContributionData({...contributionData, description: e.target.value})} placeholder=\"Briefly describe...\" />\n                      </div>\n                      <div>\n                        <label className=\"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1\">{t.yourName}</label>\n                        <input className=\"w-full px-5 py-3 rounded-xl bg-white border border-slate-200 font-bold text-sm mb-2\" value={contributionData.userName} onChange={e => setContributionData({...contributionData, userName: e.target.value})} placeholder=\"Your Name\" />\n                        <label className=\"flex items-center gap-2 cursor-pointer\">\n                          <input type=\"checkbox\" className=\"w-4 h-4 rounded\" checked={contributionData.wantsCredit} onChange={e => setContributionData({...contributionData, wantsCredit: e.target.checked})} />\n                          <span className=\"text-xs font-bold text-slate-500\">{t.creditName}</span>\n                        </label>\n                      </div>\n                      <button onClick={handleAddSuggestionToList} className=\"w-full bg-[#0F172A] text-white py-3 rounded-xl font-black uppercase tracking-widest text-[11px] hover:bg-black transition-all\">Add to List</button>\n                    </div>\n                  </div>\n\n                  <div className=\"flex flex-col h-full min-h-[400px]\">\n                    <div className=\"flex-1 overflow-y-auto pr-2 space-y-3 scrollbar-hide\">\n                      <div className=\"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex justify-between\">\n                        <span>List of Suggestions</span>\n                        <span className=\"text-blue-600\">{suggestionList.length}</span>\n                      </div>\n                      {suggestionList.length === 0 ? (\n                        <div className=\"h-full min-h-[200px] border-2 border-dashed border-slate-100 rounded-[24px] flex items-center justify-center text-slate-300 font-bold text-xs italic\">Empty list.</div>\n                      ) : (\n                        suggestionList.map((item, idx) => (\n                          <div key={idx} className=\"p-4 bg-white border border-slate-100 rounded-2xl shadow-sm relative group\">\n                            <button onClick={() => handleRemoveFromList(idx)} className=\"absolute top-2 right-2 p-1 text-slate-300 hover:text-red-500\"><svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path d=\"M6 18L18 6M6 6l12 12\" /></svg></button>\n                            <div className=\"font-black text-slate-800 text-[13px] truncate pr-6\">{item.title}</div>\n                            <div className=\"text-[10px] text-blue-500 font-bold truncate\">{item.url}</div>\n                          </div>\n                        ))\n                      )}\n                    </div>\n                    <button onClick={handleExportCSV} disabled={suggestionList.length === 0} className={`w-full mt-6 py-4 rounded-2xl font-black uppercase tracking-widest shadow-lg transition-all ${suggestionList.length > 0 ? 'bg-[#2563EB] text-white shadow-blue-500/20 hover:opacity-90' : 'bg-slate-100 text-slate-400 cursor-not-allowed'}`}>Export CSV</button>\n                  </div>\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"
            }
          ]
        }
      ]
    },
    "createdTimestamp": {
      "seconds": 1770341784,
      "nanos": 377000000
    },
    "doneTimestamp": {
      "seconds": 1770341831,
      "nanos": 524000000
    }
  }
]